# Spec: Agentic Dashboard

## What

A real-time visibility dashboard for agentic coding sessions, distributed as a single bootstrap skill file. An agent reads the skill and generates the entire application on the user's machine -- infrastructure code, tool adapters, runtime generation skills, and a React UI.

The dashboard observes running agents across Claude Code and Cursor (with extensibility to other tools), surfacing what each agent is doing, what needs human attention, and how work is progressing -- all without requiring any instrumentation or changes to existing workflows.

It is AI-native: the fixed codebase is minimal infrastructure. Everything that interprets or displays data is agent-generated, because only an agent can make sense of arbitrary, unknown state formats and workflows.

## Why

- When agent teams run, there is no unified view of what's happening across agents, what's blocked, or what needs human action
- Manual orchestration through the CLI is tedious when managing multiple agents or teams
- Workflow rules and skills built for one project are hard to share, configure, or adapt for others
- Different agentic tools (Claude Code, Cursor) each store state differently with no common visibility layer
- Existing dashboards would require hardcoding assumptions about statuses, workflows, and data formats -- an AI-native approach adapts to whatever it finds

## Requirements

1. **Bootstrap skill distribution** -- the entire product is distributed as a single markdown skill file. No CLI tool, no npm package. An agent reads the skill and generates everything.

2. **State discovery engine** -- reads agent/team/task state from the filesystem for Claude Code and Cursor. Uses generated adapters per tool. Dynamically generates new parsers at runtime when encountering unknown file formats.

3. **Attention queue** -- surfaces items needing human action with agent-evaluated urgency. Each item shows a short context summary expandable to full detail. Items are dismissed automatically when underlying state changes.

4. **Adaptive summary hierarchy** -- layers of summaries (agent > team > workspace > multi-workspace) that appear and disappear based on what's actually running. Every summary at every level is agent-generated, not templated.

5. **Four levels of dynamism:**
   - Fixed: Express server, React shell, WebSocket infrastructure, file watching
   - Install-generated: tool-specific adapters, workspace skills, runtime generation skills
   - Runtime-generated: UI components for new data shapes, parsers for unknown formats, natural language summaries
   - Always dynamic: hierarchy layers, attention prioritization, summary content

6. **Bootstrap generates specialized skills** -- the bootstrap skill generates: a launch skill, tool adapter skills, and runtime generation skills (for parsers, UI components, and summaries). Each skill is single-purpose to minimize context window usage.

7. **Read-only observation** -- the dashboard reads state, never writes or orchestrates. It is a visibility tool only.

8. **Zero instrumentation** -- reads existing files that agents already produce. No SDK, hooks, or agent modifications required.

9. **Local-first** -- runs as a local Express server launched by a skill, opens in the browser. No cloud, no accounts, no hosting.

10. **TypeScript + React** -- Express server backend, React frontend, WebSocket for real-time updates, chokidar for file watching.

11. **Graceful degradation** -- when no agent is available for runtime generation, the dashboard shows raw data in a simple tree using previously generated adapters. Functional but not summarized.

12. **Agent-generated tests** -- the bootstrap skill instructs the agent to generate tests alongside generated code. Fixed infrastructure gets traditional unit/integration tests.

## Acceptance Criteria

1. User can add the bootstrap skill to their agent and say "set up the agentic dashboard" -- the agent generates all infrastructure code, adapters, and skills without manual steps.
2. User can say "open the dashboard" -- a local server starts and the browser opens showing the dashboard.
3. When Claude Code agents/teams are running, the dashboard discovers and displays their state in real-time via WebSocket updates.
4. When Cursor agents are running, the dashboard discovers and displays their state.
5. Items needing human action appear in the attention queue with short context. Clicking expands to full context.
6. Attention items are automatically dismissed when the underlying state resolves.
7. The hierarchy adapts: single agent shows agent view only; one team shows team + agents; multiple teams show workspace + teams + agents. Layers appear/disappear without configuration.
8. Summaries at each hierarchy level are natural language, generated by the agent, not templates.
9. When the engine encounters an unknown file format, it queues it for the agent, which generates a parser and optionally a UI component at runtime.
10. The dashboard functions (showing raw data) when no agent is available for runtime generation.
11. Re-running bootstrap regenerates all artifacts cleanly from scratch.
12. Generated code includes agent-written tests that pass.

## Out of Scope

- Orchestration or control of agents from the dashboard (write operations)
- Cloud/hosted version
- Support for tools beyond Claude Code and Cursor in v1
- Custom open state format specification for third-party tools
- Acting on attention items directly from the dashboard UI (v1 shows what action is needed and where to perform it)
- Mobile or responsive layouts (desktop browser only)
- Authentication or multi-user access (local, single-user tool)
